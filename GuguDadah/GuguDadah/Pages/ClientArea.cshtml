@page
@model GuguDadah.Pages.ClientArea
@{
    ViewData["Title"] = "Área do Cliente";

}

<h2>Área do Cliente</h2>

<a class="btn btn-info" asp-page="/Schedule">Agendar trabalho</a>
<a class="btn btn-info" asp-page="/Register">Avaliar trabalhos</a>


<br><br>

<p>Nome: @Model.userName</p>
<p>Email: @Model.eMail</p>
<p>Contacto: @Model.contact</p>

<img src="data:image/jpeg;base64,@System.Convert.ToBase64String(Model.Avatar)" alt="" />

@section Scripts
    {
    <script type='text/javascript'>

        var address = document.getElementById('address').value;

        function myNavFunc() {

            // If it's an iPhone..
            if ((navigator.platform.indexOf("iPhone") != -1)
                || (navigator.platform.indexOf("iPod") != -1)
                || (navigator.platform.indexOf("iPad") != -1)) {

                window.open('maps://maps.google.com/maps?daddr=' + address + "&amp;ll=");
            }

            else {
                window.open('http://maps.google.com/maps?daddr=' + address + "&amp;ll=");
            }
        }

        document.getElementById('foo').innerHTML = '<img src="https://maps.googleapis.com/maps/api/staticmap?center=' + address + '&zoom=16&size=600x400&key=AIzaSyCEiIZpFRIPjRrynmKw0tiIF4rfLQdNI6o" id="imageBox"/>';
    </script>
}

<input type="hidden" name="address" value="Porto" id="address"><br>

<input type="button" class="btn btn-info" value="Iniciar Navegação" onclick="myNavFunc()" />

<div id="foo"></div>
