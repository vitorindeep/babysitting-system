@page
@model GuguDadah.Pages.GPSLocation
@{
    ViewData["Title"] = "Localização GPS";

}

@section Scripts
    {
    <script type='text/javascript'>

        var address = '@Model.Address'

        function myNavFunc() {

            // se é um iPhone
            if ((navigator.platform.indexOf("iPhone") != -1)
                || (navigator.platform.indexOf("iPod") != -1)
                || (navigator.platform.indexOf("iPad") != -1)) {

                window.open('maps://maps.google.com/maps?daddr=' + address + "&amp;ll=");
            }

            else {
                window.open('http://maps.google.com/maps?daddr=' + address + "&amp;ll=");
            }
        }

        document.getElementById('map').innerHTML = '<img src="https://maps.googleapis.com/maps/api/staticmap?center=' + address + '&zoom=16&size=600x400&key=AIzaSyCEiIZpFRIPjRrynmKw0tiIF4rfLQdNI6o" id="imageBox"/>';
    </script>
}

<h4>Localização</h4>
<hr />

<div class="row">

    <div id="map"></div>

    <br />

    <input type="button" class="btn btn-info" value="Iniciar Navegação" onclick="myNavFunc()" />

</div>